(function(n){"object"===typeof exports&&"undefined"!==typeof module?module.exports=n():"function"===typeof define&&define.G?define([],n):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).greinerHormann=n()})(function(){return function m(h,d,b){function k(c,f){if(!d[c]){if(!h[c]){var g="function"==typeof require&&require;if(!f&&g)return g(c,!0);if(a)return a(c,!0);g=Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g;}g=d[c]=
{exports:{}};h[c][0].call(g.exports,function(a){var b=h[c][1][a];return k(b?b:a)},g,g.exports,m,h,d,b)}return d[c].exports}for(var a="function"==typeof require&&require,c=0;c<b.length;c++)k(b[c]);return k}({1:[function(m,h){var d=m("./polygon");h.exports=function(b,k,a,c){b=new d(b);k=new d(k);return b.clip(k,a,c)}},{"./polygon":4}],2:[function(m,h){var d=m("./clip");h.exports={union:function(b,k){return d(b,k,!1,!1)},intersection:function(b,k){return d(b,k,!0,!0)},diff:function(b,k){return d(b,k,
!1,!0)},clip:d}},{"./clip":1}],3:[function(m,h){function d(b,d,a,c){this.l=this.toSource=this.y=this.x=0;var e=(c.y-a.y)*(d.x-b.x)-(c.x-a.x)*(d.y-b.y);0!==e&&(this.toSource=((c.x-a.x)*(b.y-a.y)-(c.y-a.y)*(b.x-a.x))/e,this.l=((d.x-b.x)*(b.y-a.y)-(d.y-b.y)*(b.x-a.x))/e,this.valid()&&(this.x=b.x+this.toSource*(d.x-b.x),this.y=b.y+this.toSource*(d.y-b.y)))}d.prototype.valid=function(){return 0<this.toSource&&1>this.toSource&&0<this.l&&1>this.l};h.exports=d},{}],4:[function(m,h){function d(a,c){this.o=
this.first=null;this.u="undefined"===typeof c?Array.isArray(a[0]):c;for(var e=0,d=a.length;e<d;e++)this.i(new b(a[e]))}var b=m("./vertex"),k=m("./intersection");d.prototype.i=function(a){if(null==this.first)this.first=a,this.first.next=a,this.first.c=a;else{var c=this.first,b=c.c;c.c=a;a.next=c;a.c=b;b.next=a}};d.prototype.w=function(a,c,b){for(;!c.b(b)&&c.m<a.m;)c=c.next;a.next=c;b=c.c;a.c=b;b.next=a;c.c=a};d.prototype.j=function(a){for(;a.a;)a=a.next;return a};d.prototype.D=function(){var a=this.C||
this.first;do{if(a.a&&!a.g)break;a=a.next}while(!a.b(this.first));return this.C=a};d.prototype.F=function(){var a=this.o||this.first;do{if(a.a&&!a.g)return this.o=a,!0;a=a.next}while(!a.b(this.first));this.o=null;return!1};d.prototype.s=function(){var a=[],b=this.first;if(this.u){do a.push([b.x,b.y]),b=b.next;while(b!==this.first)}else{do a.push({x:b.x,y:b.y}),b=b.next;while(b!==this.first)}return a};d.prototype.clip=function(a,c,e){var f=this.first,g=a.first,h,l;do{if(!f.a){do g.a||(l=new k(f,this.j(f.next),
g,a.j(g.next)),l.valid()&&(h=b.v(l.x,l.y,l.toSource),l=b.v(l.x,l.y,l.l),h.f=l,l.f=h,this.w(h,f,this.j(f.next)),a.w(l,g,a.j(g.next)))),g=g.next;while(!g.b(a.first))}f=f.next}while(!f.b(this.first));f=this.first;g=a.first;h=f.A(a);l=g.A(this);c^=h;e^=l;do f.a&&(f.h=c,c=!c),f=f.next;while(!f.b(this.first));do g.a&&(g.h=e,e=!e),g=g.next;while(!g.b(a.first));for(c=[];this.F();){e=this.D();f=new d([],this.u);f.i(new b(e.x,e.y));do{e.B();if(e.h){do e=e.next,f.i(new b(e.x,e.y));while(!e.a)}else{do e=e.c,
f.i(new b(e.x,e.y));while(!e.a)}e=e.f}while(!e.g);c.push(f.s())}0===c.length&&(h&&c.push(this.s()),l&&c.push(a.s()),0===c.length&&(c=null));return c};h.exports=d},{"./intersection":3,"./vertex":5}],5:[function(m,h){function d(b,d){1===arguments.length&&(Array.isArray(b)?(d=b[1],b=b[0]):(d=b.y,b=b.x));this.x=b;this.y=d;this.f=this.c=this.next=null;this.m=0;this.h=!0;this.g=this.a=!1}d.v=function(b,h,a){b=new d(b,h);b.m=a;b.a=!0;b.h=!1;return b};d.prototype.B=function(){this.g=!0;null===this.f||this.f.g||
this.f.B()};d.prototype.b=function(b){return this.x===b.x&&this.y===b.y};d.prototype.A=function(b){var d=!1,a=b.first,c=a.next,e=this.x,f=this.y;do(a.y<f&&c.y>=f||c.y<f&&a.y>=f)&&(a.x<=e||c.x<=e)&&(d^=a.x+(f-a.y)/(c.y-a.y)*(c.x-a.x)<e),a=a.next,c=a.next||b.first;while(!a.b(b.first));return d};h.exports=d},{}]},{},[2])(2)});
